OVERVIEW
Cartella "Corsiv"
  - dentro troviamo All SNP_CoRSIV (cartella coi file "finali", risultanti dal processo descritto di seguito)
  - cartelle dei cromosomi (chr1, chr2, ecc)
  - Corsiv_position (file excel con le posizioni per ogni cromosoma)
  - Japan (.txt, file di testo contenente gli individui Giapponesi da 1000Genomes)
#In ogni cartella del cromosoma (e.g., chr16) devono esserci DI DEFAULT
  - il file principale su cui andremo a lavorare (e.g., ALL.chr16.shapeit2_integrated_v1a.GRCh38.20181129.phased.vcf)
  - Japan.txt
  - i file di plink (LICENSE, plink, prettify, toy.map, toy.ped)
  - una cartella chiamata "bim", dove metteremo successivamente il "bim principale"
  
PROMPT DEI COMANDI

#Entro nella cartella

cd Desktop\Corsiv\chrn°

#Extract individuals
plink --vcf nomefile --keep fileindividui.txt --make-bed --out nome_output
#esempio:

plink --vcf ALL.chr16.shapeit2_integrated_v1a.GRCh38.20181129.phased.vcf --keep Japan.txt --make-bed --out chr16_Japan

RISULTATO:
#devo avere, nella cartella del cromosoma (e.g., cartella "chr16"), il file principale (ALL.chr16.shapeit...), i file di Plink, Japan.txt PIU' 5 nuovi file:
  - chr16_Japan.bed
  - chr16_Japan (formato BIM)
  - chr16_Japan.fam
  - chr16_Japan (documento di testo)
  - chr16_Japan (file NOSEX)

#Nel file excel "Corsiv_position" (si trova nella cartella "Corsiv") creo un nuovo foglio dove metto le posizioni per quel cromosoma (N°chr-posizione1-posizione2-n°sequenza) e accanto le formule che successivamente dovranno essere copiate e incollate sulla barra di comando
#Il file con le posizioni è Corsiv_position 
#esempio (di cosa deve esserci PER OGNI RIGA PER OGNI POSIZIONE nel foglio del rispettivo cromosoma):

17|198000|198200|1|plink --bfile chr17_Japan --chr 17 --from-bp 198000 --to-bp 198200 --freq --make-bed --out chr17_Japan_seq1

#COSI' PER OGNI POSIZIONE SUL CROMOSOMA
#Copio e incollo sulla barra di comando

#Sposto il bim principale in una cartella a parte (chiamata "bim")

#Unisco tutti i bim e tutti i freq
copy /b *.bim nomeoutput.txt (e.g., chr16_ALLbim)
copy /b *.frq nomeoutput.txt (e.g., chr16_ALLfreq)

#Copio il corpo del file "Allbim" e "ALLfreq" in un file excel, conto che ci sia uno stesso numero di elementi (seleziono una colonna qualsiasi) e poi metto le posizioni (prese da al bim) vicino al corpo del file "ALLfreq"
#Salvo il file excel (e.g., SNP_chrNumero)

KNIME
#Nel blocco "Excel reader" carico il file SNP_chrNumero
#Nel blocco "file reader" carico il file del cromosoma corrispondente di dbSNP (NumeroChr_dbSNP)
#Nel blocco "joiner" imposto a sinistra (left table) la posizione (POS), e a destra (right table) X3 (che sarebbe la posizione)
